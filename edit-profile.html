<!DOCTYPE html>
<html lang="en">
<head>
            <!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<script>
  // Initialize Firebase
  const firebaseConfig = {
    apiKey: "YOUR_API_KEY",
    authDomain: "YOUR_AUTH_DOMAIN",
    projectId: "YOUR_PROJECT_ID",
    storageBucket: "YOUR_STORAGE_BUCKET",
    messagingSenderId: "YOUR_SENDER_ID",
    appId: "YOUR_APP_ID"
  };
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
</script>
    <script>
auth.onAuthStateChanged(user => {
    if (user) {
        console.log("User is logged in:", user.email);
        // Example: dynamically show profile link in navbar
        const navbarLinks = document.getElementById("navbar-links");
        if (navbarLinks && !document.getElementById("profileNav")) {
            const profileLi = document.createElement("li");
            profileLi.id = "profileNav";
            profileLi.innerHTML = `<a href="profile.html">PROFILE</a>`;
            navbarLinks.appendChild(profileLi);
        }
    } else {
        console.log("User is NOT logged in");
        // Optional: redirect to login page if needed
        // window.location.href = "login.html";
    }
});
</script>

    <meta charset="UTF-8">
    <title>Edit Profile - Ian & Shan's Literary House</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://kit.fontawesome.com/2deec37226.js" crossorigin="anonymous"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&display=swap" rel="stylesheet">
</head>
<body>

<div class="main edit-profile">
    <!-- NAVBAR -->
    <div class="navbaar">
        <div class="nav-left">
            <img src="logodark.PNG" alt="Logo" class="nav-logo">
        </div>
        <div class="menu">
            <ul>
                <li><a href="index.html">HOME</a></li>
                <li><a href="SERVICE.html">SERVICES</a></li>
                <li><a href="shop.html">SHOP</a></li>
                <li><a href="ABOUT.html">ABOUT</a></li>
                <li><a href="CONTACT.html">CONTACT</a></li>
                <li><a href="MEMBERSHIP.html">MEMBERSHIP</a></li>
            </ul>
        </div>
        <form class="search" id="searchForm">
            <input class="srch" type="search" id="searchInput" placeholder="Search pages">
            <button class="btn" type="submit">Search</button>
        </form>
        <div class="theme-toggle-container">
            <button id="theme-toggle" class="theme-btn">
                <i id="theme-icon" class="fa-solid fa-moon"></i>
            </button>  
        </div>
    </div>

    <!-- EDIT PROFILE CONTENT -->
    <div class="profile-container section">
        <h1>Edit Your Profile</h1>
        <form id="editProfileForm" class="profile-form">
            <div class="form-group">
                <label for="profilePic">Profile Picture:</label>
                <input type="file" id="profilePic" name="profilePic" accept="image/*">
                <img id="profileImage" src="user.jpg" alt="Profile Preview" class="profile-preview">
            </div>
            <div class="form-group">
                <label for="name">Full Name:</label>
                <input type="text" id="name" name="name" value="Ian Ak" required>
            </div>
            <div class="form-group">
                <label for="email">Email Address:</label>
                <input type="email" id="email" name="email" value="ian@example.com" required>
            </div>
            <div class="form-group">
                <label for="password">Change Password:</label>
                <input type="password" id="password" name="password" placeholder="New password">
            </div>
            <div class="form-group">
                <label for="membership">Membership Plan:</label>
                <select id="membership" name="membership">
                    <option value="Basic">Basic</option>
                    <option value="Standard">Standard</option>
                    <option value="Premium">Premium</option>
                    <option value="Family">Family</option>
                </select>
            </div>
            <div class="form-actions">
                <button type="submit" class="cn">Save Changes</button>
                <button type="button" class="cn"><a href="profile.html">Cancel</a></button>
            </div>
        </form>
    </div>

    <!-- SOCIAL ICONS -->
    <div class="social-icons">
        <a href="https://www.facebook.com" target="_blank"><i class="fa-brands fa-facebook"></i></a>
        <a href="https://www.instagram.com" target="_blank"><i class="fa-brands fa-instagram"></i></a>
        <a href="https://www.twitter.com" target="_blank"><i class="fa-brands fa-twitter"></i></a>
    </div>
</div>

<footer>
    &copy; 2025 Ian & Shan's Literary House. All Rights Reserved.
</footer>

<script src="profile.js"></script> <!-- Your updated profile.js handles Firebase + membership -->
<script>
const searchForm = document.getElementById("searchForm");
searchForm.addEventListener("submit", function(event) {
    event.preventDefault();
    const query = document.getElementById("searchInput").value.trim().toLowerCase();
    if (!query) return alert("Please enter something to search.");

    const pages = [
        {name: "Home", url: "index.html", keywords: ["home", "books", "literacy"]},
        {name: "About", url: "about.html", keywords: ["about", "story", "history"]},
        {name: "Services", url: "service.html", keywords: ["services", "cafe", "membership"]},
        {name: "Contact", url: "contact.html", keywords: ["contact", "email", "phone"]},
        {name: "Membership", url: "membership.html", keywords: ["membership", "plans", "subscribe"]}
    ];

    const result = pages.find(page => page.keywords.some(keyword => query.includes(keyword)));
    if (result) window.location.href = result.url;
    else alert("No results found for: " + query);
});

document.addEventListener("DOMContentLoaded", () => {
    const toggleButton = document.getElementById("theme-toggle");
    const themeIcon = document.getElementById("theme-icon");
    const body = document.body;
    if (localStorage.getItem("theme") === "light") {
        body.classList.add("light-mode");
        themeIcon.classList.replace("fa-moon", "fa-sun");
    }
    toggleButton.addEventListener("click", () => {
        body.classList.toggle("light-mode");
        if (body.classList.contains("light-mode")) {
            themeIcon.classList.replace("fa-moon", "fa-sun");
            localStorage.setItem("theme", "light");
        } else {
            themeIcon.classList.replace("fa-sun", "fa-moon");
            localStorage.setItem("theme", "dark");
        }
    });
});
</script>
<script src="profile.js"></script>
</body>
</html>

